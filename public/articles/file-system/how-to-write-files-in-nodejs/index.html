
<!-- required content -->

<link rel="stylesheet" href="/css/nodedocs.css" type="text/css" media="screen" title="no title" charset="utf-8">
<link rel="stylesheet" href="/css/highlight/github.css" type="text/css" media="screen" title="no title" charset="utf-8">


<header>
  <div class="link"><a href="http://github.com/nodejitsu/docs">Edit this page on GitHub</a></div>
  <div class="title">docs.nodejitsu.com</div>
</header>


<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

<div id="mask"></div>

<!-- end required content -->

<div id="toc"><ul><li><a href="/articles/advanced">advanced</a><ul><li><a href="/articles/advanced/buffers">buffers</a><ul><li><a href="/articles/advanced/buffers/how-to-use-buffers">how to use buffers</a></li></ul></li><li><a href="/articles/advanced/streams">streams</a><ul><li><a href="/articles/advanced/streams/how-to-use-fs-create-read-stream">how to use fs create read stream</a></li><li><a href="/articles/advanced/streams/how-to-use-fs-create-write-stream">how to use fs create write stream</a></li><li><a href="/articles/advanced/streams/how-to-use-stream-pipe">how to use stream pipe</a></li><li><a href="/articles/advanced/streams/what-are-streams">what are streams</a></li></ul></li></ul></li><li><a href="/articles/child-processes">child processes</a><ul><li><a href="/articles/child-processes/how-to-spawn-a-child-process">how to spawn a child process</a></li></ul></li><li><a href="/articles/command-line">command line</a><ul><li><a href="/articles/command-line/how-to-get-colors-on-the-command-line">how to get colors on the command line</a></li><li><a href="/articles/command-line/how-to-parse-command-line-arguments">how to parse command line arguments</a></li><li><a href="/articles/command-line/how-to-prompt-for-command-line-input">how to prompt for command line input</a></li></ul></li><li><a href="/articles/cryptography">cryptography</a><ul><li><a href="/articles/cryptography/how-to-use-crypto-module">how to use crypto module</a></li><li><a href="/articles/cryptography/how-to-use-the-tls-module">how to use the tls module</a></li></ul></li><li><a href="/articles/errors">errors</a><ul><li><a href="/articles/errors/what-are-the-error-conventions">what are the error conventions</a></li><li><a href="/articles/errors/what-is-the-error-object">what is the error object</a></li><li><a href="/articles/errors/what-is-try-catch">what is try catch</a></li></ul></li><li><a href="/articles/file-system">file system</a><ul><li><a href="/articles/file-system/how-to-read-files-in-nodejs">how to read files in nodejs</a></li><li><a href="/articles/file-system/how-to-search-files-and-directories-in-nodejs">how to search files and directories in nodejs</a></li><li><a href="/articles/file-system/how-to-store-local-config-data">how to store local config data</a></li><li><a href="/articles/file-system/how-to-use-the-path-module">how to use the path module</a></li><li><a href="/articles/file-system/how-to-write-files-in-nodejs">how to write files in nodejs</a></li></ul></li><li><a href="/articles/getting-started">getting started</a><ul><li><a href="/articles/getting-started/control-flow">control flow</a><ul><li><a href="/articles/getting-started/control-flow/how-to-write-asynchronous-code">how to write asynchronous code</a></li><li><a href="/articles/getting-started/control-flow/what-are-callbacks">what are callbacks</a></li><li><a href="/articles/getting-started/control-flow/what-are-event-emitters">what are event emitters</a></li></ul></li><li><a href="/articles/getting-started/globals-in-node-js">globals in node js</a></li><li><a href="/articles/getting-started/how-to-debug-nodejs-applications">how to debug nodejs applications</a></li><li><a href="/articles/getting-started/how-to-use-util-inspect">how to use util inspect</a></li><li><a href="/articles/getting-started/npm">npm</a><ul><li><a href="/articles/getting-started/npm/how-to-access-module-package-info">how to access module package info</a></li><li><a href="/articles/getting-started/npm/what-is-npm">what is npm</a></li><li><a href="/articles/getting-started/npm/what-is-the-file-package-json">what is the file package json</a></li></ul></li><li><a href="/articles/getting-started/the-console-module">the console module</a></li><li><a href="/articles/getting-started/the-process-module">the process module</a></li><li><a href="/articles/getting-started/what-is-require">what is require</a></li></ul></li><li><a href="/articles/HTTP">HTTP</a><ul><li><a href="/articles/HTTP/clients">clients</a><ul><li><a href="/articles/HTTP/clients/how-to-access-query-string-parameters">how to access query string parameters</a></li><li><a href="/articles/HTTP/clients/how-to-create-a-HTTP-request">how to create a HTTP request</a></li></ul></li><li><a href="/articles/HTTP/servers">servers</a><ul><li><a href="/articles/HTTP/servers/how-to-create-a-HTTP-server">how to create a HTTP server</a></li><li><a href="/articles/HTTP/servers/how-to-create-a-HTTPS-server">how to create a HTTPS server</a></li><li><a href="/articles/HTTP/servers/how-to-read-POST-data">how to read POST data</a></li><li><a href="/articles/HTTP/servers/how-to-serve-static-files">how to serve static files</a></li></ul></li></ul></li><li><a href="/articles/javascript-conventions">javascript conventions</a><ul><li><a href="/articles/javascript-conventions/how-to-create-default-parameters-for-functions">how to create default parameters for functions</a></li><li><a href="/articles/javascript-conventions/what-are-the-built-in-timer-functions">what are the built in timer functions</a></li><li><a href="/articles/javascript-conventions/what-are-truthy-and-falsy-values">what are truthy and falsy values</a></li><li><a href="/articles/javascript-conventions/what-is-json">what is json</a></li><li><a href="/articles/javascript-conventions/what-is-the-arguments-object">what is the arguments object</a></li></ul></li><li><a href="/articles/REPL">REPL</a><ul><li><a href="/articles/REPL/how-to-create-a-custom-repl">how to create a custom repl</a></li><li><a href="/articles/REPL/how-to-use-nodejs-repl">how to use nodejs repl</a></li></ul></li></ul></div>

<!-- generated content -->
<div id="article">
  <div id="metadata">
    <h1 class="title">How do I write files in node.js?</h1>
    <div class="date">Fri Aug 26 2011 03:08:50 GMT-0700 (PST)</div>
    <div class="author">nico</div>
    <div class="link">./articles/file-system/how-to-write-files-in-nodejs</div>
    

    <!--
      <div class="tags"></div>
      <div class="difficulty"></div>
    -->
  <div class="breadcrumb">.</div><div class="breadcrumb">articles</div><div class="breadcrumb">file-system</div><div class="breadcrumb">how-to-write-files-in-nodejs</div></div>
  <div id="content"><p>Writing to a file is another of the basic programming tasks that one usually needs to know about - luckily, this task is very simple in Node.js.  We can use the handy <code>writeFile</code> method inside the standard library's <code>fs</code> module, which can save all sorts of time and trouble.</p>

<pre><code><span class="identifier">fs</span> = <span class="identifier"><span class="keyword">require</span></span>(<span class="string">'fs'</span>);
<span class="identifier">fs</span>.<span class="constant">writeFile</span>(<span class="identifier">filename</span>, <span class="identifier">data</span>, [<span class="identifier">encoding</span>], [<span class="identifier">callback</span>])</code></pre>

<p><code>file = (string)</code> filepath of the file to read</p>

<p><code><span class="identifier">data</span> = (<span class="identifier">string</span> <span class="identifier"><span class="keyword">or</span></span> <span class="identifier">buffer</span>)</code> the data you want to write to the file</p>

<p><code>encoding = (optional string)</code> the encoding of the <code>data</code>. Possible encodings are 'ascii', 'utf8', and 'base64'. If no encoding provided, then 'utf8' is assumed.</p>

<p><code>callback = (optional <span class="function"><span class="keyword">function</span> <span class="params">(err)</span> {</span>})</code> If there is no error, <code>err === <span class="literal">null</span></code>, otherwise <code>err</code> contains the error message.</p>

<p>So if we wanted to write &quot;Hello World&quot; to <code>helloworld.txt</code>:</p>

<pre><code>fs = require(<span class="string">'fs'</span>);
fs.writeFile(<span class="string">'helloworld.txt'</span>, <span class="string">'Hello World!'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(err)</span> {</span>
  <span class="keyword">if</span> (err) <span class="keyword">return</span> console.log(err);
  console.log(<span class="string">'Hello World &gt; helloworld.txt'</span>);
});

[contents of helloworld.txt]:
Hello World!</code></pre>

<p>If we purposely want to cause an error, we can try to write to a file that we don't have permission to access:</p>

<pre><code>fs = require(<span class="string">'fs'</span>)
fs.writeFile(<span class="string">'/etc/doesntexist'</span>, <span class="string">'abc'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(err,data)</span> {</span>
  <span class="keyword">if</span> (err) {
    <span class="keyword">return</span> console.log(err);
  }
  console.log(data);
});

{ stack: [Getter/Setter],
  arguments: undefined,
  type: undefined,
  message: <span class="string">'EACCES, Permission denied \'/etc/doesntexist\''</span>,
  errno: <span class="number">13</span>,
  code: <span class="string">'EACCES'</span>,
  path: <span class="string">'/etc/doesntexist'</span> }</code></pre></div>
</div>

<!-- end generated content -->

<script type="text/javascript" charset="utf-8" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript" charset="utf-8" src="/js/index.js"></script>

<script type="text/javascript">
var _sf_async_config={uid:11119,domain:"docs.nodejitsu.com"};
(function(){
  function loadChartbeat() {
    window._sf_endpt=(new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src',
       (("https:" == document.location.protocol) ? "https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/" : "http://static.chartbeat.com/") +
       "js/chartbeat.js");
    document.body.appendChild(e);
  }
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
     loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();

</script>